#%Module1.0

module-whatis           "TomoDRGN - analyzing structural heterogeneity in cryo-electron sub-tomograms"
module-url              "https://github.com/bpowell122/tomodrgn"
module-license          "-"
module-maintainer       "Greta Assmann <greta.assmann@psi.ch>"

module-help     "https://github.com/bpowell122/tomodrgn"


# Check for supported shell types
set shelltype [module-info shelltype]
switch -- $shelltype {
    "sh" {
        puts stdout "source \"\${PREFIX}\"/miniconda/etc/profile.d/conda.sh;\n"
    }
    default {
        puts stderr "Shells of type '$shelltype' are NOT supported!"
    }
}


switch [module-info mode] {
    "load" {
      # Relies on the anaconda module being loaded since we need to update the path
      puts stdout "conda activate $P_$V;\n"
    }
    "unload" -
    "remove" {
        puts stdout "conda deactivate;\n"
    }
}


