#%Module1.0

module-whatis		"GPU programming"
module-url		'https://www.nvidia.com/object/cuda_home_new.html'
module-license	 	"see: http://docs.nvidia.com/cuda/eula/index.html"
module-maintainer	"Achim Gsell <achim.gsell@psi.ch>"

module-help	"
CUDAÂ® is a parallel computing platform and programming model invented
by NVIDIA. It enables dramatic increases in computing performance by
harnessing the power of the graphics processing unit (GPU).
"

prepend-path    CUDA_PATH       "$PREFIX"

if {[catch {exec /usr/sbin/modinfo -d nvidia} result]} {
   # add if the module is *not* loaded => we are on a system without GPU
   prepend-path    LIBRARY_PATH		"$PREFIX/lib64/stubs"
   prepend-path    LD_LIBRARY_PATH	"$PREFIX/lib/stubs" 
}

prepend-path    C_INCLUDE_PATH      "$PREFIX/targets/x86_64-linux/include"
prepend-path    CPLUS_INCLUDE_PATH  "$PREFIX/targets/x86_64-linux/include"

