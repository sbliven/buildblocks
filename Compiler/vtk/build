#!/usr/bin/env modbuild
#
# Notes:
#   On Mac OS X VTK does not compile out of the box with self-compiled GCC.
#   grep for "long-branch" and "pascal-string" in the cmake configuration
#   and remove these strings.
#

pbuild::set_download_url "http://www.vtk.org/files/release/${V_MAJOR}.${V_MINOR}/VTK-$V.tar.gz"
pbuild::add_to_group 'Compiler'

pbuild::pre_configure_Darwin() {
	# for the time being: on Mac OS X we need GL/gl.h from MacPorts:
	std::append_path C_INLCUDE_PATH '/opt/local/include'
	std::append_path CPLUS_INCLUDE_PATH '/opt/local/include'
}

pbuild::pre_configure() {
	pbuild::add_configure_args "-DVTK_INSTALL_INCLUDE_DIR:PATH=include"
	pbuild::add_configure_args "-DVTK_INSTALL_LIB_DIR:PATH=lib"
	pbuild::add_configure_args "-DVTK_USE_COCOA:BOOL=OFF"
}


